/* Webæ€§èƒ½ä¼˜åŒ–æ ·å¼ */

/* å…¨å±€æ€§èƒ½ä¼˜åŒ– */
* {
  box-sizing: border-box;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  margin: 0;
  padding: 0;
  overflow: hidden; /* é˜²æ­¢ä¸å¿…è¦çš„æ»šåŠ¨ */
}

/* Flutterå®¹å™¨ä¼˜åŒ– */
flt-glass-pane {
  pointer-events: none !important;
}

/* é’ˆå¯¹WebRTCè§†é¢‘çš„ä¼˜åŒ– */
video {
  object-fit: contain;
  transform: translateZ(0); /* å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ */
  will-change: transform;
}

/* Canvasä¼˜åŒ– - å…¼å®¹æ€§ä¼˜åŒ– */
canvas {
  image-rendering: optimizeSpeed;
  image-rendering: optimize-contrast;
  image-rendering: -webkit-optimize-contrast; /* Webkit/Blink æ”¯æŒ */
  image-rendering: pixelated; /* ç°ä»£æµè§ˆå™¨æ ‡å‡† */
  transform: translateZ(0); /* å¯ç”¨ç¡¬ä»¶åŠ é€Ÿ */
}

/* Firefox ä¸“ç”¨ä¼˜åŒ– */
@-moz-document url-prefix() {
  canvas {
    image-rendering: -moz-crisp-edges;
  }
}

/* å‡å°‘é‡ç»˜å’Œå›æµ */
.flutter-view {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* æå‡æ»šåŠ¨æ€§èƒ½ - å…¼å®¹æ€§ä¼˜åŒ– */
.scrollable {
  transform: translateZ(0);
  scroll-behavior: smooth; /* ç°ä»£æµè§ˆå™¨æ ‡å‡† */
  overscroll-behavior: contain; /* é˜²æ­¢è¿‡åº¦æ»šåŠ¨ */
}

/* iOS Safari ä¸“ç”¨æ»šåŠ¨ä¼˜åŒ– */
@supports (-webkit-overflow-scrolling: touch) {
  .scrollable {
    -webkit-overflow-scrolling: touch;
  }
}

/* å­—ä½“åŠ è½½ä¼˜åŒ– */
.font-loading {
  font-display: swap;
  visibility: hidden;
}

.font-loaded {
  visibility: visible;
  transition: visibility 0.1s ease;
}

/* å“åº”å¼ä¼˜åŒ– */
@media (max-width: 768px) {
  body {
    touch-action: manipulation; /* ä¼˜åŒ–è§¦æ‘¸å“åº” */
  }
}

/* é«˜DPIå±å¹•ä¼˜åŒ– - è·¨æµè§ˆå™¨å…¼å®¹ */
@media 
  (-webkit-min-device-pixel-ratio: 2), 
  (min-device-pixel-ratio: 2), 
  (min-resolution: 192dpi),
  (min-resolution: 2dppx) {
  canvas {
    image-rendering: pixelated;
    image-rendering: -webkit-optimize-contrast;
  }
}

/* Dark modeæ”¯æŒ */
@media (prefers-color-scheme: dark) {
  #loading {
    background: #121212 !important;
    color: #ffffff !important;
  }
  
  .loading-text {
    color: #ffffff !important;
  }
}

/* å‡å°‘åŠ¨ç”»å¡é¡¿ */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* å†…å­˜ä¼˜åŒ– - é™åˆ¶å›¾ç‰‡å¤§å° */
img {
  max-width: 100%;
  height: auto;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: pixelated;
}

/* ç°ä»£æµè§ˆå™¨æ€§èƒ½ä¼˜åŒ– */
@supports (content-visibility: auto) {
  .large-content {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }
}

/* GPU åŠ é€Ÿä¼˜åŒ– */
.gpu-accelerated {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* WebRTC è§†é¢‘ä¼˜åŒ– */
video {
  object-fit: contain;
  background-color: transparent; /* ğŸ¯ Webç«¯ä½¿ç”¨é€æ˜èƒŒæ™¯ï¼Œé¿å…é»‘è‰²èƒŒæ™¯ */
  transform: translateZ(0);
  will-change: transform;
}

/* é˜²æ­¢å›¾ç‰‡æ‹–æ‹½ */
img, video, canvas {
  -webkit-user-drag: none;
  -khtml-user-drag: none;
  -moz-user-drag: none;
  -o-user-drag: none;
  user-drag: none;
}

/* WebGLæ€§èƒ½ä¼˜åŒ– */
.webgl-content {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
} 